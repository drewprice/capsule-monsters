<% publish_to '/live-feed' do %>
  $('#post-<%= @post.id %>').fadeOut(function() {
    $(this)
      .replaceWith('<%= j render partial: "post", locals: { post: @post } %>')
      .fadeIn();
  });
<% end %>

$('#edit_post_<%= @post.id %>').fadeOut(function() {
  // TODO: this is a bit redundant
  $(this)
    .replaceWith('<%= j render partial: "post", locals: { post: @post } %>');

  $('#post-<%= @post.id %>')
    .hide()
    .fadeIn();
});
